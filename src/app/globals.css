@import "tailwindcss";

/* base */
html,
body {
  background: #fff;
  color: #000;
  font-family: Arial, Helvetica, sans-serif;
}

/* optional: offset for pages that sit under the fixed header */
:root {
  --nav-h: 88px;
}

.offset-header {
  padding-top: var(--nav-h);
}

/* === Product ring layout (smooth + mobile-friendly) === */
:root {
  --ring-near: 24vw;
  /* horizontal offset for left/right */
  --ring-far: 44vw;
  /* horizontal offset for far-left/right */
  --ring-scale-center: 1.04;
  --ring-scale-near: 0.10;
  --ring-scale-far: 22.8;
  --ring-height: clamp(320px, 62vh, 760px);
}

@media (min-width: 768px) {
  :root {
    --ring-near: 20vw;
    --ring-far: 36vw;
    --ring-scale-center: 1.06;
    --ring-scale-near: 0.74;
    --ring-scale-far: 0.42;
  }
}

@media (min-width: 1024px) {
  :root {
    --ring-near: 18vw;
    --ring-far: 32vw;
    --ring-scale-center: 1.09;
    --ring-scale-near: 0.74;
    --ring-scale-far: 0.42;
  }
}

#carouselContainer {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  pointer-events: none;
}

#carouselContainer .carousel-item {
  position: absolute;
  top: 50%;
  left: 50%;
  height: var(--ring-height);
  transform-origin: center center;
  will-change: transform, opacity;
  transition:
    transform .65s cubic-bezier(.22, .61, .36, 1),
    opacity .65s ease;
  pointer-events: auto;
  /* allow clicks */
  z-index: 1;
}

/* Make images size sanely inside the ring items */
#carouselContainer .carousel-item img {
  display: block;
  height: 100%;
  width: auto;
}

/* Positions */
.carousel-center {
  transform: translateX(-50%) scale(1);
  transform: translate(-50%, -50%) scale(var(--ring-scale-center));
  opacity: 1;
  z-index: 5;
}

.carousel-left {
  transform: translateX(-50%) scale(0.8);
  transform: translate(calc(-50% - var(--ring-near)), -50%) scale(var(--ring-scale-near));
  opacity: .85;
  z-index: 4;
}

.carousel-right {
  transform: translateX(-50%) scale(0.8);
  transform: translate(calc(-50% + var(--ring-near)), -50%) scale(var(--ring-scale-near));
  opacity: .85;
  z-index: 4;
}

.carousel-far-left {
  transform: translateX(-50%) scale(0.6);
  transform: translate(calc(-50% - var(--ring-far)), -50%) scale(var(--ring-scale-far));
  opacity: .35;
  z-index: 3;
  filter: blur(1px);
}

.carousel-far-right {
  transform: translateX(-50%) scale(0.6);
  transform: translate(calc(-50% + var(--ring-far)), -50%) scale(var(--ring-scale-far));
  opacity: .35;
  z-index: 3;
  filter: blur(1px);
}

/* Anything else stays mounted but invisible for smooth transitions */
.carousel-off {
  transform: translateX(-50%) scale(0.4);
  transform: translate(-50%, -50%) scale(.6);
  opacity: 0;
  z-index: 1;
  pointer-events: none;
}

/* === helper for the rotating "play" text ring (video section) === */
@keyframes spin-slow {
  to {
    transform: rotate(360deg);
  }
}

.animate-spin-slow {
  animation: spin-slow 18s linear infinite;
}

/* Mobile tuning so spacing mirrors desktop feel */
@media (max-width: 640px) {
  :root {
    --ring-near: 28vw;
    /* push side items a bit further out */
    --ring-far: 52vw;
    /* and far items even more */
    --ring-scale-center: 1.02;
    /* slightly smaller center on very narrow screens */
    --ring-scale-near: 0.86;
    --ring-scale-far: 0.74;
    --ring-height: clamp(300px, 64vh, 680px);
  }
}

/* Disable transition when we need to teleport the far edge to the opposite edge on wrap */
.no-transition {
  transition: none !important;
}

/* --- Force ring stacking order --- */

/* baseline */
#carouselContainer .carousel-item {
  z-index: 0;
}

/* top → bottom (use !important to beat earlier rules) */
#carouselContainer .carousel-center {
  z-index: 1000 !important;
}

#carouselContainer .carousel-left,
#carouselContainer .carousel-right {
  z-index: 900 !important;
}

#carouselContainer .carousel-far-left,
#carouselContainer .carousel-far-right {
  z-index: 800 !important;
}

#carouselContainer .carousel-off {
  z-index: 1 !important;
}

/* avoid 3D/stacking surprises from transforms/filters */
#carouselContainer .carousel-item,
#carouselContainer .carousel-item * {
  transform-style: flat;
}

#carouselContainer .carousel-item img {
  position: relative;
  z-index: 0;
}

/* Mobile tuning: push side images further out and slightly shrink them */
@media (max-width: 640px) {
  :root {
    --ring-near: 32vw;
    /* was 24–28; push them out more */
    --ring-far: 64vw;
    /* push far items even more */
    --ring-scale-center: 1.00;
    /* tiny shrink so center fits nicely */
    --ring-scale-near: 0.84;
    --ring-scale-far: 0.70;
    --ring-height: clamp(300px, 58vh, 640px);
  }
}

/* Disable transition when we teleport an edge item on wrap */
.no-transition {
  transition: none !important;
}

/* ===== Cart badge polish (tiny ring, crisp text) ===== */
.cart-badge {
  transform: translateZ(0);
  /* avoid blur on scaled text */
}

/* ===== Trim stray vertical gaps between stacked sections ===== */
/* remove default margins that sneak in from headings/paragraphs, only inside sections */
section :is(h1, h2, h3, h4, h5, h6) {
  margin-top: 0;
}

section :is(p, ul, ol) {
  margin-top: 0;
}

section> :first-child {
  margin-top: 0;
}

section> :last-child {
  margin-bottom: 0;
}

/* kill browser default section margins (none by spec, but some libs add) */
section {
  margin-block: 0;
}

/* ensure there’s no extra gap when two sections are adjacent */
section+section {
  margin-top: 0 !important;
}

/* images shouldn’t create inline gaps */
img {
  display: block;
}

/* if you use the offset-header helper, don’t add extra gap after it */
.offset-header+section {
  margin-top: 0 !important;
}

/* optional: zero out the default body margin if any */
html,
body {
  margin: 0;
}

/* Reduce the visual gap under the fixed header for the hero only */
.hero-tight {
  margin-top: calc(-0.45 * 230px);
}

/* =================================================================== */
/* === Hero ribbons (for your current Hero component with JS seam fix) */
/* =================================================================== */

/* long horizontal track we translate for the loop */
.hero-ribbon-track {
  display: flex;
  width: 200%;
  will-change: transform;
  transform: translateZ(0);
  backface-visibility: hidden;
}

/* left/right motion (the wrapper is already rotated in JSX) */
@keyframes hero-left {
  0% {
    transform: translateX(0);
  }

  100% {
    transform: translateX(-50%);
  }
}

@keyframes hero-right {
  0% {
    transform: translateX(-50%);
  }

  100% {
    transform: translateX(0);
  }
}

.hero-anim-left {
  animation: hero-left 16s linear infinite;
}

.hero-anim-right {
  animation: hero-right 16s linear infinite;
}

/* (no masks/clip-path here; the vertical join alignment is handled in the component
   with translateY(Δy) using Δy = tan(angle)*tileWidth so the two tiles connect
   along the rotated line) */