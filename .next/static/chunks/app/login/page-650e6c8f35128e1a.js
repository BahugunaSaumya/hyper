(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[520],{17:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>l});var s=t(5155),c=t(2115),r=t(63),d=t(4901);function l(){let{loginEmail:e,loginGoogle:a,loading:t,user:l}=(0,d.A)(),n=(0,r.useRouter)(),[i,u]=(0,c.useState)(""),[f,b]=(0,c.useState)(""),[o,m]=(0,c.useState)(null);return!t&&l&&n.replace("/checkout"),(0,s.jsx)("div",{className:"min-h-screen flex items-center justify-center px-6 py-12",children:(0,s.jsxs)("div",{className:"w-full max-w-md space-y-5",children:[(0,s.jsx)("h1",{className:"text-3xl font-extrabold",children:"WELCOME BACK"}),o&&(0,s.jsx)("div",{className:"text-sm text-red-600",children:o}),(0,s.jsx)("input",{value:i,onChange:e=>u(e.target.value),type:"email",placeholder:"Email",className:"w-full px-4 py-3 border rounded-md"}),(0,s.jsx)("input",{value:f,onChange:e=>b(e.target.value),type:"password",placeholder:"Password",className:"w-full px-4 py-3 border rounded-md"}),(0,s.jsx)("button",{onClick:async()=>{try{await e(i,f),n.replace("/checkout")}catch(e){m(e.message)}},className:"w-full py-3 rounded-full border-2 border-black font-semibold hover:bg-black hover:text-white transition",children:"LOG IN"}),(0,s.jsxs)("div",{className:"flex items-center justify-between my-2",children:[(0,s.jsx)("hr",{className:"w-1/3"}),(0,s.jsx)("span",{className:"text-xs",children:"OR"}),(0,s.jsx)("hr",{className:"w-1/3"})]}),(0,s.jsx)("button",{onClick:async()=>{await a(),n.replace("/checkout")},className:"w-full py-3 rounded-full border font-semibold hover:bg-black hover:text-white transition",children:"Continue with Google"})]})})}},63:(e,a,t)=>{"use strict";var s=t(7260);t.o(s,"useRouter")&&t.d(a,{useRouter:function(){return s.useRouter}}),t.o(s,"useSearchParams")&&t.d(a,{useSearchParams:function(){return s.useSearchParams}})},477:()=>{},4585:(e,a,t)=>{"use strict";t.d(a,{O5:()=>r.O5,db:()=>f,hJ:()=>b,j2:()=>u});var s=t(2078),c=t(2553),r=t(9708),d=t(316),l=t.n(d);let n=function(e,a,t){let s=l().enc.Hex.parse(a),c=l().enc.Hex.parse(t),r=l().enc.Hex.parse(e),d=l().AES.decrypt({ciphertext:r},s,{iv:c,mode:l().mode.CBC,padding:l().pad.Pkcs7}).toString(l().enc.Utf8);if(!d)throw Error("Decrypt produced empty string (bad key/iv or bad ciphertext).");return JSON.parse(d)}("6d1aac583ab36143c115d1e0347279f0c86f6febd35faa62461e79d49c82a85fb232779b55e39d75ed4f0b1b6b595f655bcd2193d2c30f223552c208f07de77d4eb7bda480bf32ee29046ef0467ca4fbd51f25d787eb5d934f3b2d60d08357a88836fa830af15b5e1b7f3367418645c917ddc32f549a72ecbefa2b6f741b503eb84e9af399c936b45555e07137d904734c8abde7b59adf852f36627f870b2dfbb8cadb27779c31a58f951cdab103e51aa11e937f3cefe1c54748d110d8df6d59ff7015d9b56bce2500e70048beff9b360a5d69244ee181825745212fbe06cee828545c16c19b740ef40f9bf360706e0565c7e4958bbfc2c56d48933cb39be12573456ce78c6e2c368a48265ffa15d7ca9468006d57d29e316afbc064b36e496ad73ef6d658731cf785555d0078c2911c","179316d7351ebf96aa3947a4f9f81f1ff593d4bdbd17dc97140213566925bbab","f92357b3d63b43e787481eba564c5923"),i=(0,s.Dk)().length?(0,s.Dk)()[0]:(0,s.Wp)(n),u=(0,c.xI)(i),f=(0,r.aU)(i),b=new c.HF},4901:(e,a,t)=>{"use strict";t.d(a,{A:()=>i,AuthProvider:()=>u});var s=t(5155),c=t(2115),r=t(4585),d=t(2553),l=t(9708);let n=(0,c.createContext)(null),i=()=>(0,c.useContext)(n);function u(e){let{children:a}=e,[t,i]=(0,c.useState)(null),[u,f]=(0,c.useState)(null),[b,o]=(0,c.useState)(!0);(0,c.useEffect)(()=>(0,d.hg)(r.j2,async e=>{if(i(e),e){let a=(0,l.H9)(r.db,"users",e.uid),t=await (0,l.x7)(a);f(t.exists()?t.data():{name:e.displayName||"",email:e.email||""})}else f(null);o(!1)}),[]);let m=(0,c.useMemo)(()=>({user:t,profile:u,loading:b,async signupEmail(e,a,t){let{user:s}=await (0,d.eJ)(r.j2,a,t);e&&await (0,d.r7)(s,{displayName:e}),await (0,l.BN)((0,l.H9)(r.db,"users",s.uid),{name:e,email:a},{merge:!0})},async loginEmail(e,a){await (0,d.x9)(r.j2,e,a)},async loginGoogle(){let{user:e}=await (0,d.df)(r.j2,r.hJ);await (0,l.BN)((0,l.H9)(r.db,"users",e.uid),{name:e.displayName||"",email:e.email||""},{merge:!0})},async logout(){await (0,d.CI)(r.j2)},async saveProfile(e){r.j2.currentUser&&(await (0,l.BN)((0,l.H9)(r.db,"users",r.j2.currentUser.uid),e,{merge:!0}),f(a=>({...a||{},...e})))}}),[t,u,b]);return(0,s.jsx)(n.Provider,{value:m,children:a})}},8715:(e,a,t)=>{Promise.resolve().then(t.bind(t,17))}},e=>{e.O(0,[135,965,247,441,255,358],()=>e(e.s=8715)),_N_E=e.O()}]);