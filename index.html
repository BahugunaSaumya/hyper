<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>HYPER</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @keyframes spin-slow {
            from {
                transform: rotate(0deg);
            }

            to {
                transform: rotate(360deg);
            }
        }

        .animate-spin-slow {
            animation: spin-slow 12s linear infinite;
        }

        .carousel-item {
            transition: all 0.6s ease-in-out;
            position: absolute;
            opacity: 0.8;
            top: 0;
            transform-origin: center center;
            filter: brightness(1);
        }

        .carousel-center {
            transform: scale(1) translateX(0);
            opacity: 1 !important;
            z-index: 10;
            filter: brightness(1.1);
        }

        @media (min-width: 1000px) {
            .carousel-left {
                transform: scale(0.85) translateX(-160px);
                z-index: 5;
            }

            .carousel-right {
                transform: scale(0.85) translateX(160px);
                z-index: 5;
            }
        }

        @media (max-width: 1000px) {
            .carousel-left {
                transform: scale(0.75) translateX(-100px);
            }

            .carousel-right {
                transform: scale(0.75) translateX(100px);
            }
        }
    </style>


    <style>
        @keyframes glitch {
            0% {
                transform: translate(0);
            }

            20% {
                transform: translate(-1px, 1px);
            }

            40% {
                transform: translate(-1px, -1px);
            }

            60% {
                transform: translate(1px, 1px);
            }

            80% {
                transform: translate(1px, -1px);
            }

            100% {
                transform: translate(0);
            }
        }

        .glitch {
            animation: glitch 1s infinite;
        }

        .scroll-container::-webkit-scrollbar {
            display: none;
        }
    </style>
</head>

<body class="bg-black text-white font-sans min-h-screen overflow-x-hidden">

    <!-- Navigation -->
    <nav class="fixed top-0 left-0 w-full z-50 bg-transparent backdrop-blur-md px-6 py-4">
        <div class="flex items-center justify-between max-w-7xl mx-auto">
            <!-- Logo -->
            <div>
                <img src="./assets/hyper-logo.png" alt="HYPER Logo" class="h-8 md:h-10 glitch" />
            </div>

            <!-- Navigation Links -->
            <div class="hidden md:flex space-x-8 text-white text-sm font-semibold">
                <a href="#products" class="hover:text-pink-500 transition">Products</a>
                <a href="#blogs" class="hover:text-pink-500 transition">Blogs</a>
                <a href="#contact" class="hover:text-pink-500 transition">Contact</a>
            </div>

            <!-- Icons -->
            <div class="flex items-center space-x-6 text-white text-lg">
                <!-- Search Icon -->
                <button class="hover:text-pink-500 transition">
                    <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" fill="none" viewBox="0 0 24 24"
                        stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M21 21l-4.35-4.35M17 10a7 7 0 11-14 0 7 7 0 0114 0z" />
                    </svg>
                </button>

                <!-- Cart Icon -->
                <button onclick="toggleCart(true)" class="hover:text-pink-500 transition">
                    <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" fill="none" viewBox="0 0 24 24"
                        stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13l-1.5 7h13L17 13M6 21a1 1 0 11-2 0 1 1 0 012 0zm12 0a1 1 0 11-2 0 1 1 0 012 0z" />
                    </svg>
                </button>

                <!-- User Icon -->
                <button class="hover:text-pink-500 transition">
                    <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" fill="none" viewBox="0 0 24 24"
                        stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M5.121 17.804A9 9 0 0112 15a9 9 0 016.879 2.804M15 10a3 3 0 11-6 0 3 3 0 016 0z" />
                    </svg>
                </button>
            </div>
        </div>
    </nav>

    <!-- Hero -->
    <section id="hero" class="h-screen relative bg-cover bg-center"
        style="background-image: url('./assets/cage-bg.png');">
        <div class="absolute inset-0 bg-black/40 z-0"></div> <!-- Optional dark overlay -->

        <!-- Content Wrapper -->
        <div class="absolute bottom-12 left-1/2 transform -translate-x-1/2 z-10 w-full px-4 text-center">
            <h1 class="text-white font-extrabold uppercase leading-tight text-3xl sm:text-4xl md:text-5xl lg:text-6xl">
                Where Innovation Begins<br />And a New Era Rises
            </h1>
        </div>
    </section>

    <section id="about" class="relative bg-white text-black py-20 overflow-hidden">
        <!-- Text Header -->
        <div class="text-center px-4">
            <h3 class="text-sm tracking-widest uppercase font-semibold">Welcome to Hyper</h3>
            <div class="w-full flex justify-center my-1">
                <div class="flex space-x-1 text-lg">| | | | | | | |</div>
            </div>
            <h2 class="text-3xl sm:text-4xl md:text-5xl font-extrabold uppercase mt-4">Why We Created Hyper</h2>
        </div>

        <!-- Video Container -->
        <div class="mt-12 flex justify-center">
            <div id="videoWrapper"
                class="transition-all duration-[1150ms] ease-in-out w-60 h-60 sm:w-80 sm:h-80 rounded-full overflow-hidden relative shadow-lg max-w-full mx-auto">
                <!-- Video Thumbnail -->
                <img id="videoThumbnail" src="./assets/video-preview.jpg" alt="Preview"
                    class="w-full h-full object-cover absolute inset-0 z-0 transition-opacity duration-500" />

                <!-- Video Element -->
                <video id="mainVideo"
                    class="w-full h-full object-cover absolute inset-0 z-10 opacity-0 pointer-events-none" muted>
                    <source src="./assets/sample.mp4" type="video/mp4" />
                    Your browser does not support the video tag.
                </video>

                <!-- Play Button -->
                <!-- PLAY BUTTON AND ROTATING TEXT -->
                <div id="playButton" class="absolute inset-0 flex items-center justify-center z-20 cursor-pointer">

                    <div class="relative w-24 h-24 sm:w-28 sm:h-28 flex items-center justify-center">

                        <!-- Circular Rotating Text -->
                        <svg class="absolute w-full h-full animate-spin-slow" viewBox="0 0 100 100">
                            <defs>
                                <path id="circlePath" d="M 50, 50 m -40, 0 a 40,40 0 1,1 80,0 a 40,40 0 1,1 -80,0" />
                            </defs>
                            <text fill="white" font-size="13" font-family="Arial" font-weight="bold">
                                <textPath xlink:href="#circlePath" startOffset="0%">
                                    How to be so fresh || How to be fresh ||</textPath>
                            </text>
                        </svg>

                        <!-- Play Icon Circle -->
                        <div
                            class="w-14 h-14 sm:w-16 sm:h-16 bg-white/80 rounded-full flex items-center justify-center shadow-md z-10">
                            <svg class="w-6 h-6 sm:w-7 sm:h-7 text-gray-900" fill="currentColor" viewBox="0 0 24 24">
                                <path d="M8 5v14l11-7z" />
                            </svg>
                        </div>

                    </div>
                </div>

            </div>
        </div>
    </section>

    <section id="products" class="relative py-20 bg-cover bg-center"
        style="background-image: url('./assets/design.png');">
        <div class="absolute inset-0 bg-black/60 z-0"></div>
        <div class="relative z-10">
            <div class="text-center mb-12">
                <img src="./assets/our-products-heading.png" alt="Our Products"
                    class="mx-auto w-[250px] sm:w-[300px] md:w-[350px] h-auto" />
            </div>

            <!-- Product Showcase -->

            <div
                class="relative z-0 min-h-[620px] sm:min-h-[680px] md:min-h-[750px] flex justify-center items-center overflow-hidden">
                <!-- Floating models -->
                <div id="carouselContainer"
                    class="absolute top-0 left-1/2 transform -translate-x-1/2 flex justify-center items-center h-full w-full z-0 min-h-[400px]">

                    <!-- JS will inject model images here -->
                </div>

                <!-- Product info overlayed -->
                <div class="relative z-10 text-center mt-32 sm:mt-40 px-4">
                    <h2 id="highlightedTitle" class="text-3xl sm:text-4xl font-extrabold text-white mb-1"></h2>
                    <p class="text-pink-400 text-sm uppercase mb-2">MMA Shorts</p>
                    <p id="highlightedDesc" class="text-white/80 text-sm mb-2 max-w-lg mx-auto"></p>
                    <p id="highlightedPrice" class="text-white text-2xl font-bold mt-4"></p>
                    <div id="highlightedRating" class="text-yellow-400 text-xl mb-3"></div>

                    <div class="mt-3">
                        <select id="highlightedSizeSelect"
                            class="text-sm px-4 py-2 rounded bg-black border border-pink-500 text-white">
                            <option value="" selected disabled>Select size</option>
                        </select>
                    </div>

                    <div class="mt-4">
                        <button id="highlightedAddToCart"
                            class="bg-gradient-to-r from-pink-500 to-pink-400 hover:from-pink-600 hover:to-pink-500 text-white font-bold py-3 px-8 rounded-full transition">
                            + ADD TO CART
                        </button>
                    </div>
                </div>

                <!-- Nav buttons -->
                <button id="productPrev"
                    class="absolute left-4 top-1/2 transform -translate-y-1/2 bg-black/70 text-white rounded-full w-10 h-10 flex items-center justify-center z-10 text-xl">
                    ←
                </button>
                <button id="productNext"
                    class="absolute right-4 top-1/2 transform -translate-y-1/2 bg-black/70 text-white rounded-full w-10 h-10 flex items-center justify-center z-10 text-xl">
                    →
                </button>
            </div>


    </section>

    <!-- TESTIMONIALS -->
    <section id="testimonials" class="py-20 bg-black px-6">
        <div class="text-center mb-12">
            <h2 class="text-3xl sm:text-4xl md:text-5xl font-extrabold uppercase text-white">
                WHAT OUR FIGHTERS ARE SAYING
            </h2>
        </div>

        <div class="relative max-w-6xl mx-auto">
            <div class="overflow-hidden">
                <div id="testimonialWrapper" class="flex transition-transform duration-700 ease-in-out space-x-6">
                    <!-- Slides will be injected by JS -->
                </div>
            </div>

            <!-- Dots -->
            <div class="flex justify-center mt-6 space-x-3" id="testimonialDots"></div>
        </div>
    </section>





    <!-- BLOG / HIGHLIGHTED CONTENT -->
    <section id="blogs" class="py-16 relative bg-white text-black px-6">
        <!-- Header Image -->
        <div class="text-center mb-12">
            <img src="./assets/our-blogs-heading.png" alt="Our Blogs"
                class="mx-auto w-[220px] sm:w-[280px] md:w-[320px] h-auto" />
        </div>

        <!-- Blog Carousel -->
        <div class="relative max-w-7xl mx-auto">
            <div class="flex items-center justify-between mb-6 px-2">
                <div></div>
                <!-- Empty div to center arrow icons -->
                <div class="flex gap-4">
                    <button class="text-2xl hover:text-pink-500 transition" onclick="scrollBlogs(-1)">←</button>
                    <button class="text-2xl hover:text-pink-500 transition" onclick="scrollBlogs(1)">→</button>
                </div>
            </div>

            <div id="blogScroll" class="flex overflow-x-auto space-x-6 scroll-smooth scroll-container pb-4">
                <!-- Blog Card 1 -->
                <div class="min-w-[300px] flex-shrink-0">
                    <img src="./assets/red-shorts.png" alt="" class="rounded-lg w-full h-[280px] object-cover mb-2" />
                    <p class="text-sm font-bold mb-1">07 July, 2025</p>
                    <p class="text-gray-800">Try Hyper and unlock 25 million songs with endless musical possibilities.
                    </p>
                </div>

                <!-- Blog Card 2 -->
                <div class="min-w-[300px] flex-shrink-0">
                    <img src="./assets/blog2.png" alt="" class="rounded-lg w-full h-[280px] object-cover mb-2" />
                    <p class="text-sm font-bold mb-1">07 July, 2025</p>
                    <p class="text-gray-800">Try Hyper and unlock 25 million songs with endless musical possibilities.
                    </p>
                </div>

                <!-- Blog Card 3 -->
                <div class="min-w-[300px] flex-shrink-0">
                    <img src="./assets/blog3.png" alt="" class="rounded-lg w-full h-[280px] object-cover mb-2" />
                    <p class="text-sm font-bold mb-1">07 July, 2025</p>
                    <p class="text-gray-800">Try Hyper and unlock 25 million songs with endless musical possibilities.
                    </p>
                </div>
            </div>
        </div>
    </section>


    <!-- FAQ -->
    <section id="faq" class="py-16 relative bg-black px-6">
        <div class="text-center mb-12">
            <img src="./assets/frequently-asked-heading.png" alt="Frequently Asked Questions"
                class="mx-auto w-[260px] sm:w-[320px] md:w-[380px] h-auto" />
        </div>
        <div class="space-y-4 max-w-3xl mx-auto">
            <div class="border-t border-gray-700 pt-4">
                <h4 class="font-bold">Commando tights good value?</h4>
                <p class="text-gray-400">Absolutely. Designed for durability and comfort.</p>
            </div>
            <div class="border-t border-gray-700 pt-4">
                <h4 class="font-bold">How do I order?</h4>
                <p class="text-gray-400">Just click a product and hit checkout. Fast, secure, seamless.</p>
            </div>
        </div>
    </section>

    <!-- CONTACT / INSTAGRAM CTA -->
    <section id="contact" class="py-16 relative bg-black px-6 text-center">
        <!-- Header Image -->
        <div class="mb-10">
            <img src="./assets/contact-heading.png" alt="Contact Us"
                class="mx-auto w-[220px] sm:w-[280px] md:w-[320px] h-auto" />
        </div>

        <!-- Instagram Link -->
        <p class="text-gray-300 text-lg mb-6">Let’s connect on Instagram</p>

        <a href="https://www.instagram.com/hyperfitness.in/#" target="_blank"
            class="inline-flex items-center gap-2 px-6 py-3 bg-pink-600 text-white rounded-full font-semibold hover:bg-pink-500 transition">
            <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24" class="w-5 h-5">
                <path
                    d="M12 2.2c3.2 0 3.6 0 4.9.1 1.2.1 1.9.2 2.4.4.6.2 1.1.5 1.6 1 .5.5.8 1 1 1.6.2.5.3 1.2.4 2.4.1 1.3.1 1.7.1 4.9s0 3.6-.1 4.9c-.1 1.2-.2 1.9-.4 2.4-.2.6-.5 1.1-1 1.6-.5.5-1 .8-1.6 1-.5.2-1.2.3-2.4.4-1.3.1-1.7.1-4.9.1s-3.6 0-4.9-.1c-1.2-.1-1.9-.2-2.4-.4-.6-.2-1.1-.5-1.6-1-.5-.5-.8-1-1-1.6-.2-.5-.3-1.2-.4-2.4C2.2 15.6 2.2 15.2 2.2 12s0-3.6.1-4.9c.1-1.2.2-1.9.4-2.4.2-.6.5-1.1 1-1.6.5-.5 1-.8 1.6-1 .5-.2 1.2-.3 2.4-.4C8.4 2.2 8.8 2.2 12 2.2M12 0C8.7 0 8.3 0 7 .1 5.7.1 4.6.3 3.7.6c-.9.3-1.6.7-2.3 1.4-.7.7-1.1 1.4-1.4 2.3C-.3 5.4-.1 6.5 0 7.8.1 9.1.1 9.5.1 12s0 2.9-.1 4.2c-.1 1.3-.3 2.4-.6 3.3-.3.9-.7 1.6-1.4 2.3-.7.7-1.4 1.1-2.3 1.4C5.4 23.7 6.5 23.9 7.8 24c1.3.1 1.7.1 4.2.1s2.9 0 4.2-.1c1.3-.1 2.4-.3 3.3-.6.9-.3 1.6-.7 2.3-1.4.7-.7 1.1-1.4 1.4-2.3.3-.9.5-2 .6-3.3.1-1.3.1-1.7.1-4.2s0-2.9-.1-4.2c-.1-1.3-.3-2.4-.6-3.3-.3-.9-.7-1.6-1.4-2.3-.7-.7-1.4-1.1-2.3-1.4C19.6.3 18.5.1 17.2.1 15.9 0 15.5 0 12 0zm0 5.8a6.2 6.2 0 100 12.4 6.2 6.2 0 000-12.4zm0 10.2a4 4 0 110-8 4 4 0 010 8zm6.4-11.4a1.5 1.5 0 100 3 1.5 1.5 0 000-3z" />
            </svg>
            @hyperfitness.in
        </a>
    </section>

    <!-- CTA -->

    <!-- CSV + JS -->

    <!-- CART OVERLAY -->
    <div id="cartOverlay" class="fixed inset-0 z-40 bg-black/60 hidden" onclick="toggleCart(false)">

        <!-- CART SIDEBAR (Desktop) -->
        <div id="cartSidebar"
            class="hidden sm:flex absolute right-0 top-0 h-full w-96 bg-black/90 text-white shadow-lg transform translate-x-full transition-transform duration-300 flex-col"
            onclick="event.stopPropagation()">
            <div class="p-4 border-b border-gray-700 flex justify-between items-center">
                <h3 class="font-bold text-lg">Your Cart</h3>
                <button onclick="toggleCart(false)" class="text-white text-2xl font-bold">&times;</button>
            </div>
            <div id="cartItemsDesktop" class="flex-1 overflow-y-auto max-h-[60vh] p-4 space-y-4"></div>
            <div class="p-4 border-t border-gray-700">
                <div class="flex justify-between font-semibold text-lg">
                    <span>Total:</span>
                    <span id="cartTotalDesktop">₹0</span>
                </div>
                <button onclick="handleCheckout()"
                    class="mt-4 w-full bg-white text-black py-2 rounded hover:bg-pink-500 hover:text-white transition font-semibold">
                    Proceed to Checkout
                </button>
            </div>
        </div>

        <!-- CART BOTTOM DRAWER (Mobile) -->
        <div id="cartDrawer"
            class="sm:hidden fixed bottom-0 left-0 w-full bg-black/90 text-white shadow-2xl transform translate-y-full transition-transform duration-300 rounded-t-lg flex flex-col"
            onclick="event.stopPropagation()">
            <div class="p-4 border-b border-gray-700 flex justify-between items-center">
                <h3 class="font-bold text-lg">Your Cart</h3>
                <button onclick="toggleCart(false)" class="text-white text-2xl font-bold">&times;</button>
            </div>
            <div id="cartItemsMobile" class="flex-1 overflow-y-auto max-h-[50vh] p-4 space-y-4"></div>
            <div class="p-4 border-t border-gray-700">
                <div class="flex justify-between font-semibold text-lg">
                    <span>Total:</span>
                    <span id="cartTotalMobile">₹0</span>
                </div>
                <button onclick="handleCheckout()"
                    class="mt-4 w-full bg-white text-black py-2 rounded hover:bg-pink-500 hover:text-white transition font-semibold">
                    Proceed to Checkout
                </button>
            </div>
        </div>
    </div>

    <!-- Notification Popups -->
    <div id="cartNotification"
        class="fixed bottom-6 right-6 bg-pink-600 text-white px-4 py-2 rounded shadow-lg opacity-0 transition-opacity duration-300 z-50">
        To be linked with Stripe
    </div>

    <div id="cartSummary"
        class="fixed bottom-24 right-6 bg-black text-white px-4 py-2 rounded shadow-lg opacity-0 transition-opacity duration-300 z-50">
    </div>



    <script>
        let allProducts = [];
        let currentIndex = 0;

        function loadProductsCSV() {
            fetch('./assets/hyper-products-sample.csv')
                .then(res => res.text())
                .then(data => {
                    const lines = data.split('\n').filter(Boolean);
                    const headers = lines[0].split(',');
                    const products = lines.slice(1).map(line => {
                        const values = line.split(',');
                        return headers.reduce((obj, header, i) => {
                            obj[header.trim()] = values[i]?.trim();
                            return obj;
                        }, {});
                    });
                    allProducts = products;
                    renderHighlighted();
                    renderCarousel();
                });
        }

        function renderHighlighted() {
            const p = allProducts[currentIndex];

            document.getElementById('highlightedTitle').textContent = p.name;
            document.getElementById('highlightedDesc').textContent = p.description;
            document.getElementById('highlightedPrice').textContent = `${p.price}`;
            document.getElementById('highlightedRating').innerHTML =
                '★'.repeat(Number(p.rating)) + '☆'.repeat(5 - Number(p.rating));

            const sizeSelect = document.getElementById('highlightedSizeSelect');
            const addBtn = document.getElementById('highlightedAddToCart');

            if (sizeSelect && p.sizes) {
                const sizes = p.sizes.split('/').map(s => s.trim());
                sizeSelect.innerHTML = '<option value="" disabled selected>Select size</option>';
                sizes.forEach(size => {
                    const opt = document.createElement('option');
                    opt.value = size;
                    opt.textContent = size;
                    sizeSelect.appendChild(opt);
                });

                addBtn.disabled = true;
                sizeSelect.addEventListener('change', () => {
                    addBtn.disabled = !sizeSelect.value;
                });
            }
        }




        document.getElementById("productPrev").addEventListener("click", () => {
            currentIndex = (currentIndex - 1 + allProducts.length) % allProducts.length;
            renderCarousel();
            renderHighlighted();
        });

        document.getElementById("productNext").addEventListener("click", () => {
            currentIndex = (currentIndex + 1) % allProducts.length;
            renderCarousel();
            renderHighlighted();
        })

        document.getElementById('highlightedAddToCart').addEventListener('click', () => {
            const p = allProducts[currentIndex];
            const sizeSelect = document.getElementById('highlightedSizeSelect');
            const selectedSize = sizeSelect ? sizeSelect.value : '';

            if (!selectedSize) {
                alert('Please select a size before adding to cart.');
                return;
            }

            addToCart(p, selectedSize);
        });


        function parseCSV(csv) {
            const [headers, ...rows] = csv.trim().split("\n").map(line => line.split(","));
            return rows.map(row => {
                return headers.reduce((acc, header, i) => {
                    acc[header] = row[i].replace(/^"|"$/g, "");
                    return acc;
                }, {});
            });
        }

        function renderProducts(products) {
            const container = document.getElementById("product-scroll");
            container.innerHTML = "";

            products.forEach((product, index) => {
                const sizes = product.sizes.split("/").map(s => s.trim());

                const sizeOptions = sizes.map(size =>
                    `<option value="${size}">${size}</option>`
                ).join("");

                const card = document.createElement("div");
                card.className = "relative bg-black/80 border border-white/10 rounded-xl p-6 w-[320px] flex-shrink-0";

                card.innerHTML = `
            <div class="relative mb-4">
                <img src="./assets/model.png" alt="${product.name}" class="rounded-xl" />
            </div>
            <h3 class="text-2xl font-extrabold text-center leading-tight">${product.name}</h3>
            <p class="text-center text-pink-400 mt-1">${product.category || 'MMA Shorts'}</p>
            <p class="text-gray-300 text-sm text-center mt-2">Lorem ipsum dolor sit amet consectetur adipiscing elit ut et massa mi.</p>
            <div class="flex flex-col sm:flex-row justify-center items-center gap-2 mt-4">
                <span class="text-white text-lg font-bold">${product.price}</span>
                <div class="flex text-yellow-400">
                    ${'<svg class="h-4 w-4 fill-current" viewBox="0 0 20 20"><path d="M10 15l-5.878 3.09 1.122-6.545L.488 6.91l6.561-.955L10 0l2.951 5.955 6.561.955-4.756 4.635 1.122 6.545z" /></svg>'.repeat(4)}
                    <svg class="h-4 w-4 text-gray-500" viewBox="0 0 20 20"><path d="M10 15l-5.878 3.09 1.122-6.545L.488 6.91l6.561-.955L10 0l2.951 5.955 6.561.955-4.756 4.635 1.122 6.545z" /></svg>
                </div>
            </div>
            <div class="mt-4 text-center">
                <select class="size-select text-sm px-3 py-1 rounded bg-black border border-pink-500 text-white">
                    <option value="" selected disabled>Select size</option>
                    ${sizeOptions}
                </select>
            </div>
            <div class="text-center mt-4">
                <button 
                    class="add-to-cart-btn bg-pink-500 hover:bg-pink-600 text-white px-6 py-2 rounded-full font-bold text-sm transition disabled:opacity-50" 
                    data-id="${index}" disabled>
                    + ADD TO CART
                </button>
            </div>
        `;

                const select = card.querySelector(".size-select");
                const button = card.querySelector(".add-to-cart-btn");

                select.addEventListener("change", () => {
                    button.disabled = !select.value;
                    button.setAttribute("data-size", select.value);
                });

                button.addEventListener("click", () => {
                    const selectedSize = select.value;
                    if (selectedSize) {
                        addToCart(products[index], selectedSize);
                    }
                });

                container.appendChild(card);
            });
        }

        const cart = {};

        function toggleCart(show = null) {
            const overlay = document.getElementById("cartOverlay");
            const sidebar = document.getElementById("cartSidebar");
            const isOpen = !sidebar.classList.contains("translate-x-full");
            const shouldShow = show !== null ? show : !isOpen;

            if (shouldShow) {
                overlay.classList.remove("hidden");
                setTimeout(() => sidebar.classList.remove("translate-x-full"), 10);
            } else {
                sidebar.classList.add("translate-x-full");
                setTimeout(() => overlay.classList.add("hidden"), 300);
            }
        }

        function handleCartOverlayClick(e) {
            if (e.target.id === "cartOverlay") {
                toggleCart(false);
            }
        }

        function updateCartUI() {
            const container = document.getElementById("cartItems");
            const totalDisplay = document.getElementById("cartTotal");
            container.innerHTML = "";

            let total = 0;

            Object.entries(cart).forEach(([key, item]) => {
                const subtotal = parseInt(item.price.replace(/[^\d]/g, "")) * item.quantity;
                total += subtotal;

                const itemDiv = document.createElement("div");
                itemDiv.className = "border-b border-gray-600 pb-2";

                itemDiv.innerHTML = `
          <div class="flex justify-between items-center">
            <div>
              <h4 class="font-semibold">${item.name}</h4>
              <p class="text-sm text-gray-400">${item.price} × ${item.quantity}</p>
            </div>
            <div class="flex items-center space-x-2">
              <button onclick="decreaseQuantity('${key}')" class="px-2 bg-gray-800 rounded">-</button>
              <span>${item.quantity}</span>
              <button onclick="increaseQuantity('${key}')" class="px-2 bg-gray-800 rounded">+</button>
            </div>
          </div>
        `;
                container.appendChild(itemDiv);
            });

            totalDisplay.textContent = `₹${total}`;
        }

        function increaseQuantity(id) {
            if (cart[id]) {
                cart[id].quantity++;
                updateCartUI();
            }
        }

        function decreaseQuantity(id) {
            if (cart[id]) {
                cart[id].quantity--;
                if (cart[id].quantity < 1) delete cart[id];
                updateCartUI();
            }
        }

        function addToCart(product, selectedSize) {
            const key = `${product.name}_${selectedSize}`;
            if (cart[key]) {
                cart[key].quantity++;
            } else {
                cart[key] = {
                    ...product,
                    size: selectedSize,
                    quantity: 1
                };
            }
            updateCartUI();
            toggleCart(true);
        }

        function showCartNotification() {
            const notif = document.getElementById("cartNotification");
            notif.classList.remove("opacity-0");
            notif.classList.add("opacity-100");
            setTimeout(() => {
                notif.classList.remove("opacity-100");
                notif.classList.add("opacity-0");
            }, 3000);
        }

        function showCartSummary() {
            const summary = document.getElementById("cartSummary");
            const itemCount = Object.values(cart).reduce((sum, item) => sum + item.quantity, 0);
            const total = Object.values(cart).reduce((sum, item) =>
                sum + parseInt(item.price.replace(/[^\d]/g, "")) * item.quantity, 0);
            summary.textContent = `Items: ${itemCount} | Total: ₹${total}`;
            summary.classList.remove("opacity-0");
            summary.classList.add("opacity-100");
            setTimeout(() => {
                summary.classList.remove("opacity-100");
                summary.classList.add("opacity-0");
            }, 5000);
        }

        document.addEventListener("DOMContentLoaded", () => {
            // Load for product scroll view (if needed)
            fetch('./assets/hyper-products-sample.csv')
                .then(response => response.text())
                .then(csv => {
                    const products = parseCSV(csv);
                    renderProducts(products);
                })
                .catch(error => {
                    console.error("Failed to load product CSV:", error);
                });

            // Load for highlighted + carousel
            loadProductsCSV();

            // Optional: setup cart link if needed
            const checkoutBtn = document.getElementById("checkoutButton");
            if (checkoutBtn) {
                checkoutBtn.addEventListener("click", () => {
                    showCartNotification();
                    showCartSummary();
                });
            }

            const cartLink = document.querySelector('a[href="#cart"]');
            if (cartLink) {
                cartLink.addEventListener("click", function (e) {
                    e.preventDefault();
                    toggleCart(true);
                });
            }
        });
        function getRandomTint() {
            const tints = [
                'hsla(350, 52%, 76%, 0.5)', 'hsla(321, 60%, 72%, 0.5)', 'hsla(111, 67%, 64%, 0.5)',
                'hsla(20, 59%, 66%, 0.5)', 'hsla(339, 56%, 79%, 0.5)', 'hsla(295, 53%, 74%, 0.5)',
                'hsla(245, 52%, 64%, 0.5)', 'hsla(89, 47%, 66%, 0.5)', 'hsla(293, 47%, 70%, 0.5)',
                'hsla(117, 66%, 63%, 0.5)', 'hsla(30, 59%, 67%, 0.5)', 'hsla(345, 52%, 72%, 0.5)',
                'hsla(218, 50%, 63%, 0.5)', 'hsla(6, 51%, 72%, 0.5)', 'hsla(44, 62%, 68%, 0.5)',
                'hsla(320, 55%, 72%, 0.5)', 'hsla(63, 47%, 63%, 0.5)', 'hsla(259, 51%, 67%, 0.5)',
                'hsla(177, 69%, 78%, 0.5)', 'hsla(77, 55%, 79%, 0.5)'
            ];
            return tints[Math.floor(Math.random() * tints.length)];
        }

        function renderCarousel(direction = 'next') {
            const container = document.getElementById("carouselContainer");

            const visibleCount = window.innerWidth < 640 ? 1 : 3;
            const indexes = [];

            if (visibleCount === 1) {
                indexes.push(currentIndex);
            } else {
                const prev = (currentIndex - 1 + allProducts.length) % allProducts.length;
                const next = (currentIndex + 1) % allProducts.length;
                indexes.push(prev, currentIndex, next);
            }

            // Create wrapper for new content
            const newWrapper = document.createElement("div");
            newWrapper.className = "absolute top-0 left-1/2 transform -translate-x-1/2 flex justify-center items-center h-full w-full";

            indexes.forEach((index, i) => {
                const wrapper = document.createElement("div");
                wrapper.className = `carousel-item ${i === 0 && visibleCount === 3 ? "carousel-left" :
                    i === 1 || visibleCount === 1 ? "carousel-center" :
                        "carousel-right"} h-[300px] sm:h-[450px] transition-all duration-500 relative`;

                const img = document.createElement("img");
                img.src = "./assets/model.png";
                img.alt = allProducts[index].name;
                img.className = "w-full h-full object-contain";

                const overlay = document.createElement("div");
                overlay.className = "absolute inset-0 z-10 pointer-events-none";
                overlay.style.backgroundColor = getRandomTint();

                wrapper.appendChild(img);
                wrapper.appendChild(overlay);
                newWrapper.appendChild(wrapper);
            });

            // Clear old carousel smoothly
            container.innerHTML = "";
            container.appendChild(newWrapper);
        }




        function toggleCart(show = null) {
            const overlay = document.getElementById("cartOverlay");
            const sidebar = document.getElementById("cartSidebar");
            const drawer = document.getElementById("cartDrawer");

            const isOpen = !sidebar.classList.contains("translate-x-full") || !drawer.classList.contains("translate-y-full");
            const shouldShow = show !== null ? show : !isOpen;

            if (shouldShow) {
                overlay.classList.remove("hidden");
                if (window.innerWidth < 640) {
                    drawer.classList.remove("translate-y-full");
                } else {
                    sidebar.classList.remove("translate-x-full");
                }
            } else {
                sidebar.classList.add("translate-x-full");
                drawer.classList.add("translate-y-full");
                setTimeout(() => overlay.classList.add("hidden"), 300);
            }
        }

        function updateCartUI() {
            const totalDesktop = document.getElementById("cartTotalDesktop");
            const totalMobile = document.getElementById("cartTotalMobile");
            const desktopContainer = document.getElementById("cartItemsDesktop");
            const mobileContainer = document.getElementById("cartItemsMobile");

            let total = 0;
            desktopContainer.innerHTML = '';
            mobileContainer.innerHTML = '';

            Object.entries(cart).forEach(([key, item]) => {
                const subtotal = parseInt(item.price.replace(/[^\d]/g, "")) * item.quantity;
                total += subtotal;

                const html = `
        <div class="border-b border-gray-600 pb-2 flex justify-between items-center">
          <div>
            <h4 class="font-semibold">${item.name} <span class="text-sm text-gray-400">(${item.size})</span></h4>
            <p class="text-sm text-gray-400">${item.price} × ${item.quantity}</p>
          </div>
          <div class="flex items-center space-x-2">
            <button onclick="decreaseQuantity('${key}')" class="px-2 bg-gray-800 rounded">-</button>
            <span>${item.quantity}</span>
            <button onclick="increaseQuantity('${key}')" class="px-2 bg-gray-800 rounded">+</button>
          </div>
        </div>
      `;
                desktopContainer.innerHTML += html;
                mobileContainer.innerHTML += html;
            });

            totalDesktop.textContent = `₹${total}`;
            totalMobile.textContent = `₹${total}`;
        }

        function handleCheckout() {
            showCartNotification();
            showCartSummary();
            toggleCart(false); // auto close after checkout tap
        }


        const videoWrapper = document.getElementById('videoWrapper');
        const mainVideo = document.getElementById('mainVideo');
        const playButton = document.getElementById('playButton');
        const thumbnail = document.getElementById('videoThumbnail');

        let isPlaying = false;

        // Play or pause on click anywhere in the wrapper
        videoWrapper.addEventListener('click', () => {
            if (!isPlaying) {
                mainVideo.classList.remove('opacity-0', 'pointer-events-none');
                thumbnail.classList.add('opacity-0');
                playButton.classList.add('hidden');
                mainVideo.play();
                isPlaying = true;
            } else {
                mainVideo.pause();
                isPlaying = false;
                playButton.classList.remove('hidden');
            }
        });

        // Observer for scroll-triggered style change
        const observer = new IntersectionObserver(
            ([entry]) => {
                if (entry.isIntersecting) {
                    videoWrapper.classList.remove('rounded-full', 'w-60', 'h-60', 'sm:w-80', 'sm:h-80');
                    videoWrapper.classList.add('w-full', 'h-[640px]', 'rounded-none', 'mx-auto');
                } else {
                    videoWrapper.classList.remove('w-full', 'h-[640px]', 'rounded-none');
                    videoWrapper.classList.add('rounded-full', 'w-60', 'h-60', 'sm:w-80', 'sm:h-80');

                    // Reset video
                    mainVideo.pause();
                    isPlaying = false;
                    mainVideo.classList.add('opacity-0', 'pointer-events-none');
                    thumbnail.classList.remove('opacity-0');
                    playButton.classList.remove('hidden');
                }
            },
            { threshold: 0.5 }
        );

        observer.observe(videoWrapper);
        setInterval(() => {
            currentIndex = (currentIndex + 1) % allProducts.length;
            renderCarousel('next');
            renderHighlighted();
        }, 4000);


        const testimonials = [
            {
                name: "KHABIB",
                role: "CO–OWNER",
                image: "./assets/fighter-1.png", // Replace with real image path
                quote:
                    "Aut nihil mollitia deserunt quia sed rem. Quibusdam amet veniam rerum id rerum beatae. Quas rerum iste necessitatibus..."
            },
            {
                name: "ALICIA RUIZ",
                role: "TRAINER",
                image: "./assets/fighter-2.png",
                quote:
                    "Inventore et nihil. Ut rerum dolores hic quis. At voluptates ad magnam blanditiis excepturi expedita aut."
            },
            {
                name: "TYLER MOSS",
                role: "MMA CHAMP",
                image: "./assets/fighter-3.png",
                quote:
                    "Explicabo autem assumenda deleniti. Reprehenderit sint amet accusamus deserunt rerum veniam illum."
            }
        ];

        let testimonialIndex = 0;
        function renderTestimonials() {
            const wrapper = document.getElementById("testimonialWrapper");
            const dots = document.getElementById("testimonialDots");

            wrapper.innerHTML = "";
            dots.innerHTML = "";

            testimonials.forEach((t, i) => {
                const slide = document.createElement("div");
                slide.className =
                    "min-w-full max-w-full px-4 flex justify-center";

                slide.innerHTML = `
        <div class="border border-white/30 bg-transparent text-white rounded-xl p-6 w-full max-w-3xl flex flex-col sm:flex-row items-center gap-6 relative">
            <div class="absolute top-4 right-6 text-pink-500 text-6xl font-bold select-none leading-none">"</div>
            <div class="relative w-32 h-32 sm:w-40 sm:h-40 overflow-hidden rounded-md flex-shrink-0">
                <img src="${t.image}" class="w-full h-full object-cover rounded-md" />
            </div>
            <div class="flex-1">
                <p class="text-base sm:text-lg font-medium mb-4 leading-relaxed text-white/90">"${t.quote}"</p>
                <p class="font-bold text-xl">${t.name}</p>
                <p class="text-sm text-white/60">${t.role}</p>
            </div>
        </div>
      `;
                wrapper.appendChild(slide);

                const dot = document.createElement("button");
                dot.className = `w-3 h-3 rounded-full ${i === 0 ? "bg-pink-500" : "bg-gray-500"}`;
                dot.addEventListener("click", () => {
                    testimonialIndex = i;
                    updateTestimonialSlide();
                });
                dots.appendChild(dot);
            });
        }



        function updateTestimonialSlide() {
            const wrapper = document.getElementById("testimonialWrapper");
            wrapper.style.transform = `translateX(-${testimonialIndex * 100}%)`;

            document
                .querySelectorAll("#testimonialDots button")
                .forEach((dot, i) => {
                    dot.className = `w-3 h-3 rounded-full ${i === testimonialIndex ? "bg-pink-500" : "bg-gray-500"
                        }`;
                });
        }

        renderTestimonials();
        setInterval(() => {
            testimonialIndex = (testimonialIndex + 1) % testimonials.length;
            updateTestimonialSlide();
        }, 5000);

        function scrollBlogs(direction) {
            const container = document.getElementById('blogScroll');
            const scrollAmount = 320; // Adjust based on card width
            container.scrollBy({
                left: direction * scrollAmount,
                behavior: 'smooth'
            });
        }

    </script>

</body>

</html>